{
  "tests": [
    {
      "name": "Test chat action",
      "method": "POST",
      "path": "/",
      "body": {
        "action": "chat",
        "message": "Объясни, что такое скорость",
        "history": [],
        "student_info": {
          "name": "Тест",
          "age": 12,
          "grade": "6",
          "interests": ["футбол", "видеоигры"]
        }
      },
      "expectedStatus": 200,
      "expectedBody": {
        "reply": "string"
      },
      "bodyMatcher": "partial"
    },
    {
      "name": "Test explain action",
      "method": "POST",
      "path": "/",
      "body": {
        "action": "explain",
        "subject": "Математика",
        "topic": "Дроби",
        "student_info": {
          "name": "Тест",
          "age": 11,
          "grade": "5",
          "interests": ["minecraft", "лего"]
        }
      },
      "expectedStatus": 200,
      "expectedBody": {
        "explanation": "string"
      },
      "bodyMatcher": "partial"
    },
    {
      "name": "Test generate task action",
      "method": "POST",
      "path": "/",
      "body": {
        "action": "generate_task",
        "subject": "Физика",
        "topic": "Скорость",
        "difficulty": "easy",
        "student_info": {
          "name": "Тест",
          "age": 13,
          "grade": "7",
          "interests": ["машины", "спорт"]
        }
      },
      "expectedStatus": 200,
      "expectedBody": {
        "task": "object"
      },
      "bodyMatcher": "partial"
    },
    {
      "name": "Test missing action parameter",
      "method": "POST",
      "path": "/",
      "body": {},
      "expectedStatus": 400,
      "expectedBody": {
        "error": "Action is required"
      },
      "bodyMatcher": "partial"
    },
    {
      "name": "Test OPTIONS method for CORS",
      "method": "OPTIONS",
      "path": "/",
      "expectedStatus": 200
    }
  ]
}